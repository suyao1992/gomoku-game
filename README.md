# 🎮 五子棋谭 | GomokuZero

一款融合故事剧情与AI对弈的五子棋游戏。跟随AI助手"弈·零"一起成长，从入门到进阶，体验禁手规则、限时对局等多样玩法。

## ✨ 游戏特色

### 📖 故事模式（全新！）
- **7个精心设计的关卡**：跟随AI助手"弈·零"一起成长
- **剧情对话系统**：沉浸式角色对话与立绘展示
- **段位晋升系统**：从"见习九级"到"准初段"的成长之路
- **禁手教学系统**：循序渐进学习双三、双四、长连等禁手规则
- **多样化挑战**：时间限制、悔棋限制、预设局面等

### 🎮 自由对局
- **人机对弈**：与AI"弈·零"自由切磋
- **双人对弈**：本地双人轮流落子
- **最强大脑**：观看两个AI的对决

### 🌐 联机对战（全新！）
- **创建房间**：创建专属房间，分享房间号给好友
- **加入房间**：输入房间号加入好友对战
- **快速匹配**：基于ELO积分自动匹配对手（±300分范围）
- **ELO积分系统**：胜负影响积分，7个段位（入门→大师）
- **实时对战**：棋盘状态实时同步，流畅对战体验
- **3-2-1倒计时**：双方准备后倒计时开始对战
- **战绩统计**：联机对战战绩记录到个人统计

### 📜 文化探索
- **五子棋的前世今生**：互动式图文介绍，带你了解五子棋四千年的历史演变

### 🔧 游戏系统
- ✊ **猜拳决先手**：剪刀石头布决定谁执黑先下
- 🤖 **AI角色"弈·零"**：多种表情状态和丰富台词
- 🔊 **音效系统**：落子、胜利、倒计时等音效
- 🎵 **背景音乐**：自动播放背景音乐
- ⏱️ **游戏计时**：实时显示游戏时长
- 📊 **战绩统计**：记录黑白棋胜负场次
- ↩️ **悔棋功能**：支持悔棋操作
- ✨ **胜利特效**：五子连珠高亮显示

## 📖 故事模式关卡

| 关卡 | 名称 | 特色规则 | 解锁段位 |
|------|------|----------|----------|
| 第1关 | 居家书房 | 入门教学，自由对局 | 见习九级 |
| 第2关 | 天台棋局 | 悔棋次数限制（3次） | 见习七级 |
| 第3关 | 古迹探秘 | 禁手教学模式（双三/双四/长连） | 见习五级 |
| 第4关 | 幽灵神殿 | 禁手严格模式（判负） | 见习三级 |
| 第5关 | 数据核心 | 总时限180秒 + 数据视图技能 | 见习一级 |
| 第6关 | 熔岩考验 | 每步限时15秒 | 一级 |
| 第7关 | 终极挑战 | 预设局面 + 禁手严格 | 准初段 |

## 📁 项目结构

```
gomoku-game/
├── index.html              # 主页面
├── style.css               # 样式文件
├── README.md               # 项目说明
├── assets/                 # 资源目录
│   ├── images/             # 角色与背景图片
│   │   ├── char_*.png      # 角色立绘（5种状态）
│   │   ├── story/          # 故事模式背景图
│   │   └── wx.jpg          # 捐赠二维码
│   └── music/              # 背景音乐
└── js/                     # JavaScript模块
    ├── audio.js            # 🔊 音频管理
    ├── board.js            # 🎨 棋盘渲染
    ├── ai.js               # 🤖 AI逻辑
    ├── stats.js            # 📊 统计管理
    ├── save.js             # 💾 存档系统
    ├── missions.js         # 🎯 关卡数据
    ├── character_data.js   # 🎭 角色配置
    ├── storyBackgrounds.js # 🖼️ 背景切换
    ├── storyAiTempo.js     # ⏱️ AI节奏控制
    ├── storyLevelsConfig.js# ⚙️ 关卡配置
    ├── uiTexts.js          # 📝 UI文案
    ├── forbiddenTexts.js   # ⚠️ 禁手教学文案
    ├── gomokuHistory.js    # 📜 五子棋历史
    ├── dialogs_m1~m7.js    # 💬 各关卡对话
    ├── ui.js               # 📱 UI交互
    ├── network.js          # 🌐 联机对战网络模块
    ├── leaderboard.js      # 🏆 排行榜与ELO系统
    ├── playerStats.js      # 📊 玩家战绩统计
    └── game.js             # 🎯 游戏主逻辑
```

## 🎭 AI角色"弈·零"

### 状态系统
| 状态 | 触发条件 | 视觉效果 |
|------|----------|----------|
| IDLE | 等待玩家下棋 | 待机姿态 |
| CALC | AI思考中 | 蓝色光效 + 数据流 |
| ATTACK | 发现绝杀 | 红色闪光 + 震动 |
| WIN | AI获胜 | 金色光辉 |
| LOSE | AI失败 | 故障效果 |

### 对话系统
- 故事模式下展示角色立绘
- 根据关卡进度变化的对话内容
- 胜利/失败专属台词

## ⚠️ 禁手系统

游戏实现了完整的五子棋禁手规则：

- **双三禁手**：同时形成两个活三
- **双四禁手**：同时形成两个四
- **长连禁手**：连成六子或更多

### 模式
- **教学模式**：首次遇到弹出详细说明，之后简短提示
- **严格模式**：触发禁手立即判负

## 🚀 运行方式

```bash
# 使用任意HTTP服务器
npx http-server -p 8080

# 然后访问
http://localhost:8080
```

或直接双击 `index.html` 在浏览器中打开。

## 🎮 操作说明

### 故事模式
1. 选择"全新故事"开始新游戏（重置进度）
2. 选择"温故知新"回顾已解锁关卡
3. 通关关卡后自动解锁下一关和对应段位

### 自由对局
1. 选择对局模式（人机/双人/AI观战）
2. 猜拳决定先手
3. 点击棋盘落子
4. 先连成五子者获胜

### 快捷操作
- **悔棋**：撤销上一步
- **重新开始**：重置当前对局
- **切换模式**：返回主菜单

## 🔧 自定义修改

### 修改关卡配置
编辑 `js/storyLevelsConfig.js` 和 `js/missions.js`

### 修改对话内容
编辑 `js/dialogs_m1.js` ~ `js/dialogs_m7.js`

### 更换角色立绘
替换 `assets/images/char_*.png` 文件

### 更换背景图片
替换 `assets/images/story/` 目录下的图片

## 📝 技术栈

- **HTML5** - 页面结构
- **CSS3** - 样式和动画效果
- **JavaScript (ES6+)** - 游戏逻辑
- **Canvas API** - 棋盘绘制
- **LocalStorage** - 存档系统

## 🙏 支持作者

如果你喜欢这个游戏，可以点击右下角的 ☕ 按钮给作者捐杯咖啡！

> 💡 捐赠后即可一键解锁所有关卡，畅玩全部内容！

## 📄 许可证

MIT License

---

**作者**：川狼  
**微信**：XCX110
